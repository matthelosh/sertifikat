import{r as g,k as u,o as d,f as _,a,u as f,Z as P,w as l,c as b,j as m,e as p,F as y,g as x,b as s,O as U,E as V,y as w}from"./app-4a72ab10.js";import C from"./GuestLayout-ef7fe023.js";/* empty css             */const E={key:0,class:"sm:fixed sm:top-0 sm:right-0 p-6 text-right"},A={class:"w-full flex justify-center p-6"},B={class:"flex items-center gap-2 mx-auto"},D=s("img",{src:"/img/logo.png",alt:"Logo",class:"w-12"},null,-1),O=s("div",null,[s("h1",{class:"text-xl font-bold text-blue-800 leading-5"},"Alsya"),s("small",{class:"text-slate-500 leading-4"},"Sertifikat")],-1),R={class:"w-full bg-white p-4 rounded-lg shadow-lg"},K=s("h1",{class:"mb-2 border-b border-dashed pb-3 text-slate-600 font-bold tracking-wide"},"Formulir Pendaftaran",-1),$=["src"],Z={__name:"Daftar",props:{canLogin:{type:Boolean},canRegister:{type:Boolean},laravelVersion:{type:String,required:!0},phpVersion:{type:String,required:!0}},setup(h){const t=g({no_id:"",nama:"",jk:"",instansi:"",alamat:"",kegiatan_id:"",sebagai:"",foto:""}),N=async()=>{let o=new FormData;o.append("peserta",JSON.stringify(t.value)),c.value!==null&&o.append("file_foto",c.value),await U.post(route("peserta.daftar"),o,{onSuccess:e=>{V({title:"Informasi",message:w("i",{style:"color: teal"},"Data peserta disimpan"),position:"top-right"})},onError:e=>{Object.keys(e).forEach(r=>{V({title:"Error",message:w("i",{style:"color: red"},e[r]),position:"top-right"})})}})},v=g(null),c=g(null),I=o=>{let e=o.target.files[0];t.value.foto=URL.createObjectURL(e),c.value=e},L=o=>{o.target.src="/img/avatar.png"};return(o,e)=>{const r=u("el-input"),i=u("el-form-item"),k=u("el-option"),S=u("el-select"),j=u("el-button"),F=u("el-form");return d(),_(y,null,[a(f(P),{title:"Daftar Peserta"}),a(C,null,{default:l(()=>[h.canLogin?(d(),_("div",E,[o.$page.props.auth.user?(d(),b(f(m),{key:0,href:o.route("dashboard"),class:"font-semibold text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500"},{default:l(()=>[p("Dashboard")]),_:1},8,["href"])):(d(),_(y,{key:1},[a(f(m),{href:o.route("login"),class:"font-semibold text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500"},{default:l(()=>[p("Log in")]),_:1},8,["href"]),h.canRegister?(d(),b(f(m),{key:0,href:o.route("front.daftar"),class:"ml-4 font-semibold text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500"},{default:l(()=>[p("Register")]),_:1},8,["href"])):x("",!0)],64))])):x("",!0),s("div",A,[s("div",B,[a(f(m),{href:o.route("guest")},{default:l(()=>[D]),_:1},8,["href"]),O])]),s("div",R,[K,s("img",{src:t.value.foto,alt:"Avatar",class:"w-24 mx-auto mb-2 rounded-full hover:cursor-pointer hover:shadow-lg",onError:L,onClick:e[0]||(e[0]=n=>v.value.click())},null,40,$),s("input",{type:"file",ref_key:"fileFoto",ref:v,class:"hidden",onChange:I,accept:".jpg, .png"},null,544),a(F,{model:t.value,"label-width":"120px","label-position":"left"},{default:l(()=>[a(i,{label:"No. Identitas"},{default:l(()=>[a(r,{modelValue:t.value.no_id,"onUpdate:modelValue":e[1]||(e[1]=n=>t.value.no_id=n),placeholder:"Isikan NIK / NIP / NISN"},null,8,["modelValue"])]),_:1}),a(i,{label:"Nama Lengkap"},{default:l(()=>[a(r,{modelValue:t.value.nama,"onUpdate:modelValue":e[2]||(e[2]=n=>t.value.nama=n),placeholder:"Isikan Nama Lengkap"},null,8,["modelValue"])]),_:1}),a(i,{label:"Jenis Kelamin"},{default:l(()=>[a(S,{modelValue:t.value.jk,"onUpdate:modelValue":e[3]||(e[3]=n=>t.value.jk=n)},{default:l(()=>[a(k,{label:"Laki-laki",value:"Laki-laki"}),a(k,{label:"Perempuan",value:"Perempuan"})]),_:1},8,["modelValue"])]),_:1}),a(i,{label:"Asal Instansi"},{default:l(()=>[a(r,{modelValue:t.value.instansi,"onUpdate:modelValue":e[4]||(e[4]=n=>t.value.instansi=n),placeholder:"Isikan Asalah Instansi"},null,8,["modelValue"])]),_:1}),a(i,{label:"Asal Instansi (Opsional)"},{default:l(()=>[a(r,{modelValue:t.value.alamat,"onUpdate:modelValue":e[5]||(e[5]=n=>t.value.alamat=n),type:"textarea",placeholder:"Isikan Alamat"},null,8,["modelValue"])]),_:1}),a(i,{label:"Status Kepesertaan"},{default:l(()=>[a(r,{modelValue:t.value.sebagai,"onUpdate:modelValue":e[6]||(e[6]=n=>t.value.sebagai=n),type:"textarea",placeholder:"Contoh: Peserta Tari Saman / Pemenang"},null,8,["modelValue"])]),_:1}),a(i,null,{default:l(()=>[a(j,{type:"primary",onClick:N},{default:l(()=>[p("Daftar")]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})],64)}}};export{Z as default};
