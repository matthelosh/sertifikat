import{a4 as N,r as m,k as r,o as P,f as j,b as u,a as t,u as U,w as o,e as C,O as E,E as v,y as b}from"./app-242f46a8.js";/* empty css             *//* empty css                        */import{I as F}from"./iconify-34d3f160.js";const O={class:"overlay fixed top-0 right-0 bottom-0 left-0 flex items-center justify-center bg-slate-500 bg-opacity-50 backdrop-blur-sm z-50"},L={class:"w-full sm:w-[500px] bg-white p-4 rounded-lg shadow-lg card mx-auto"},S={class:"toolbar flex items-center justify-between mb-2 border-b border-dashed pb-3"},A=u("h1",{class:"text-slate-600 font-bold tracking-wide"},"Formulir Pendaftaran",-1),B=["src"],T={__name:"FormPeserta",props:{selectedPeserta:Object},emits:["close"],setup(_,{emit:g}){const p=_;N(()=>{p.selectedPeserta!==null&&(a.value=p.selectedPeserta)});const a=m({no_id:"",nama:"",jk:"",instansi:"",alamat:"",kegiatan_id:"",sebagai:"",foto:""}),k=async()=>{let n=new FormData;n.append("peserta",JSON.stringify(a.value)),d.value!==null&&n.append("file_foto",d.value),a.value.id,a.value.id,await E.post(route("peserta.daftar"),n,{onSuccess:e=>{v({title:"Informasi",message:b("i",{style:"color: teal"},"Data peserta disimpan"),position:"top-right"})},onError:e=>{Object.keys(e).forEach(s=>{v({title:"Error",message:b("i",{style:"color: red"},e[s]),position:"top-right"})})}})},c=m(null),d=m(null),V=n=>{let e=n.target.files[0];a.value.foto=URL.createObjectURL(e),d.value=e},x=n=>{n.target.src="/img/avatar.png"},y=g;return(n,e)=>{const s=r("el-input"),i=r("el-form-item"),f=r("el-option"),h=r("el-select"),I=r("el-button"),w=r("el-form");return P(),j("div",O,[u("div",L,[u("div",S,[A,u("button",{onClick:e[0]||(e[0]=l=>y("close"))},[t(U(F),{icon:"mdi:close-circle",class:"text-2xl text-red-400 hover:text-red-600 active:text-red-500"})])]),u("img",{src:a.value.foto,alt:"Avatar",class:"w-24 mx-auto mb-2 rounded-full hover:cursor-pointer hover:shadow-lg",onError:x,onClick:e[1]||(e[1]=l=>c.value.click())},null,40,B),u("input",{type:"file",ref_key:"fileFoto",ref:c,class:"hidden",onChange:V,accept:".jpg, .png"},null,544),t(w,{model:a.value,"label-width":"120px","label-position":"left"},{default:o(()=>[t(i,{label:"No. Identitas"},{default:o(()=>[t(s,{modelValue:a.value.no_id,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.no_id=l),placeholder:"Isikan NIK / NIP / NISN"},null,8,["modelValue"])]),_:1}),t(i,{label:"Nama Lengkap"},{default:o(()=>[t(s,{modelValue:a.value.nama,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.nama=l),placeholder:"Isikan Nama Lengkap"},null,8,["modelValue"])]),_:1}),t(i,{label:"Jenis Kelamin"},{default:o(()=>[t(h,{modelValue:a.value.jk,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.jk=l)},{default:o(()=>[t(f,{label:"Laki-laki",value:"Laki-laki"}),t(f,{label:"Perempuan",value:"Perempuan"})]),_:1},8,["modelValue"])]),_:1}),t(i,{label:"Asal Instansi"},{default:o(()=>[t(s,{modelValue:a.value.instansi,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.instansi=l),placeholder:"Isikan Asalah Instansi"},null,8,["modelValue"])]),_:1}),t(i,{label:"Asal Instansi (Opsional)"},{default:o(()=>[t(s,{modelValue:a.value.alamat,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.alamat=l),type:"textarea",placeholder:"Isikan Alamat"},null,8,["modelValue"])]),_:1}),t(i,{label:"Status Kepesertaan"},{default:o(()=>[t(s,{modelValue:a.value.sebagai,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.sebagai=l),type:"textarea",placeholder:"Contoh: Peserta Tari Saman / Pemenang"},null,8,["modelValue"])]),_:1}),t(i,null,{default:o(()=>[t(I,{type:"primary",onClick:k},{default:o(()=>[C("Daftar")]),_:1})]),_:1})]),_:1},8,["model"])])])}}};export{T as default};
